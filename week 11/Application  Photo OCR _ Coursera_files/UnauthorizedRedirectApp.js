define("js/lib/require.memoize",["module"],function(module){function argsToJsonHasher(){var r=Array.prototype.slice.call(arguments);return JSON.stringify(r)}function memoize(e,t){var n={};t=t||argsToJsonHasher;var r=function memoized(){var r=t.apply(this,arguments);return r in n||(n[r]=e.apply(this,arguments)),n[r]};return r.force=function(){return r.clear.apply(this,arguments),r.apply(this,arguments)},r.clear=function(){var r=t.apply(this,arguments);delete n[r]},r.reset=function(){n={}},r}var r={version:"0.0.1",load:function load(r,n,t,e){n([r],function(r){t(memoize(r))})}};return r});
define("nls/page",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("js/json/nls/specializations",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/json/nls/universities",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/json/nls/languages",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/json/nls/topics",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/ondemand/bootstrapPromise",["require","exports","module","q","pages/open-course/common/constants","bundles/catalogP/models/s12n","bundles/s12n-common/service/promises/s12nForCoursePromiseFactory","pages/open-course/common/promises/course"],function(require,exports,module){var o=require("q"),e=require("pages/open-course/common/constants"),s=require("bundles/catalogP/models/s12n"),n=require("bundles/s12n-common/service/promises/s12nForCoursePromiseFactory"),r=require("pages/open-course/common/promises/course");module.exports=function(u){var t=r.fromSlug(u).then(function(e){return e.get("id")}),c=t.then(n).then(function(o){var e=o.elements;if(e.length>0){var n=new s(e[0]);return n}return null});return o.all([t,c]).spread(function(o,s){return e.courseId=o,e.courseSlug=u,{courseId:o,s12n:s}})}});
define("bundles/ondemand/components/UnauthorizedRedirectApp",["require","exports","module","underscore","react","bundles/ondemand/bootstrapPromise","js/lib/getPropsFromPromise","js/lib/coursera.redirect","js/lib/waitFor","pages/open-course/common/promises/membership","vendor/cnpm/fluxible.v0-4/addons/connectToStores","pages/open-course/common/constants","js/lib/connectToRouter"],function(require,exports,module){function _defaults(e,t){for(var s=Object.getOwnPropertyNames(t),r=0;r<s.length;r++){var o=s[r],n=Object.getOwnPropertyDescriptor(t,o);n&&n.configurable&&void 0===e[o]&&Object.defineProperty(e,o,n)}return e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):_defaults(r,e))}var r,o,i=require("underscore"),u=i.compose,e=require("react"),s=require("bundles/ondemand/bootstrapPromise"),n=require("js/lib/getPropsFromPromise"),c=require("js/lib/coursera.redirect"),t=require("js/lib/waitFor"),p=require("pages/open-course/common/promises/membership"),l=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),f=require("pages/open-course/common/constants"),a=require("js/lib/connectToRouter"),d=(o=r=function(r){function UnauthorizedRedirectApp(){return _classCallCheck(this,UnauthorizedRedirectApp),_possibleConstructorReturn(this,r.apply(this,arguments))}return _inherits(UnauthorizedRedirectApp,r),UnauthorizedRedirectApp.prototype.render=function render(){return this.props.isEnrolled||this.props.isSuperUser?e.createElement("div",null,e.cloneElement(this.props.children,{courseId:this.props.courseId})):(c.setLocation("/learn/"+this.props.courseSlug),null)},UnauthorizedRedirectApp}(e.Component),r.propTypes={children:e.PropTypes.node,courseId:e.PropTypes.string,courseSlug:e.PropTypes.string,isEnrolled:e.PropTypes.bool,isSuperUser:e.PropTypes.bool},o);module.exports=u(l(["ApplicationStore"],function(r){var o=r.ApplicationStore,e=o.getUserData();return e&&e.authenticated?{isSuperUser:e.is_superuser,userId:e.id}:{isSuperUser:!1,userId:null}}),a(function(e,r){return{courseSlug:e.params.courseSlug}}),n(function(e){return s(e.courseSlug).then(function(e){var r=e.courseId,o=e.s12n;return{courseId:r}})}),t(function(e){return!!e.courseId}),n(function(e){return p(e.userId,e.courseId).then(function(e){return{isEnrolled:e.hasEnrolledRole(),hasMembershipLoaded:!0}})}),t(function(e){return e.hasMembershipLoaded}))(d)});
